<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Simple Live binding</title>
</head>
<body>
  <h3 class="title">There is <span>{number}</span> connected users.</h3>
  <p>
    with the id : <span>{group}group{number}</span>
  </p>
  <a href="/ids/{number}">{id}</a>
  <p>
    And there is {group} groups of 2 users.
  </p>

  <script src="../build/build.js"></script>
  <script>
  var Binding = require('binding');
  var Store = require('store');
  var index = 2;
  var group = 0;
  var store = new Store({
    number: index
  });
  var binding = new Binding(store);
  binding.apply(document.body);
  store.compute('id', function(){
    return this.group + '' + this.number;
  });

  setInterval(function(){
    store.set('number', ++index);
    if(index%2){
      store.set('group', ++group)
    }
  }, 10);
  </script>
</body>
</html>